@use "../../config/colors.scss";

.home {
  &__hero-title {
    padding: 8rem 0;
    display: flex;
    flex-direction: column;
    color: colors.$white-fff;
    font-size: calc(4rem + 155 * (100vw - 32rem) / 1080);
    font-weight: 900;
    letter-spacing: calc(-0.125rem - 10 * (100vw - 32rem) / 1080);
    line-height: 0.9;
    // hide overflow on x-axis to prevent odd scrolling on mobile during line animations
    overflow-x: hidden;

    @media screen and (min-width: 667px) {
      font-size: calc(4rem + 130 * (100vw - 32rem) / 1080);
    }
    @media screen and (min-width: 1400px) {
      font-size: 17rem;
      letter-spacing: -1.5rem;
    }
    @media screen and (min-width: 1600px) {
      font-size: 19.5rem;
    }
  }

  &__hero-title-line {
    margin: 0.2rem 0;
    position: relative;
  }

  &__hero-title-line-animation {
    @keyframes hero-title-line-animation {
      0% {
        width: 0;
        left: 0;
        opacity: 0;
      }
      50% {
        width: 100%;
        left: 0;
        opacity: 1;
      }
      55% {
        animation-timing-function: cubic-bezier(0.68, -0.55, 0.265, 1.55);
        width: 100%;
        left: auto;
        right: 0;
        opacity: 1;
        transform: translateX(0);
      }
      100% {
        animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1.275);
        width: 0;
        left: auto;
        right: 0;
        opacity: 0;
        transform: translateX(20rem);
      }
    }

    animation-duration: 1850ms;
    animation-direction: alternate;
    animation-fill-mode: forwards;
    animation-name: hero-title-line-animation;
    animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1.275);
    height: 100%;
    background-color: colors.$white-fff;
    position: absolute;
    transform: translateX(0);

    @function set-animation-delay($line-number) {
      @return $line-number * 200ms;
    }
    // use class modifiers to specify line numbers because CSS
    // doesn't support *-of-type pseudo-selectors on classes
    &--line-1 {
      animation-delay: set-animation-delay(1);
    }
    &--line-2 {
      animation-delay: set-animation-delay(2);
    }
    &--line-3 {
      animation-delay: set-animation-delay(3);
    }
  }

  &__hero-title-line-content {
    @keyframes hero-title-line-content {
      0% {
        left: 0;
        opacity: 0;
      }
      80% {
        left: 5rem;
        opacity: 0;
      }
      100% {
        animation-timing-function: cubic-bezier(0.175, 0.885, 0.32, 1.275);
        left: 0;
        opacity: 1;
      }
    }

    animation-duration: 1500ms;
    animation-direction: alternate;
    animation-fill-mode: forwards;
    animation-name: hero-title-line-content;
    position: relative;
    opacity: 0;

    @function set-animation-delay($line-number) {
      @return $line-number * 200ms + 100ms;
    }
    // use class modifiers to specify line numbers because CSS
    // doesn't support *-of-type pseudo-selectors on classes
    &--line-1 {
      animation-delay: set-animation-delay(1);
    }
    &--line-2 {
      animation-delay: set-animation-delay(2);
    }
    &--line-3 {
      animation-delay: set-animation-delay(3);
    }
  }

  &__hero-title-character {
    text-shadow: colors.$black-000-with-shadow -2rem 1rem 1rem,
      colors.$black-000-with-shadow 0 2rem 5rem;
  }

  &__hero-asterix {
    @keyframes hero-asterix {
      0% {
        opacity: 0;
      }
      100% {
        opacity: 1;
      }
    }

    // show the hero asterix content after the hero title animations are done
    animation-delay: 2750ms;
    animation-duration: 500ms;
    animation-fill-mode: forwards;
    animation-name: hero-asterix;
    font-size: 1.4rem;
    opacity: 0;

    @media screen and (min-width: 667px) {
      font-size: 1.8rem;
    }
  }
}
